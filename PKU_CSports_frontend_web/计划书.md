/*
é¡¹ç›®è®¡åˆ’ä¹¦ï¼ˆæ‘˜è¦ï¼‰ â€” åŒ—äº¬å¤§å­¦ä½“è‚²è®ºå› App å‰ç«¯

ç›®çš„ï¼š
- æ„å»ºä¸€æ¬¾æœåŠ¡äºåŒ—å¤§å­¦ç”Ÿçš„è½»é‡åŒ–ç§»åŠ¨ç«¯ä½“è‚²è®ºå›ä¸çƒé˜Ÿç®¡ç†å·¥å…·ï¼Œè¦†ç›–çƒé˜Ÿç®¡ç†ã€æˆ˜æœ¯æ¿ã€èµ›äº‹ä¿¡æ¯ã€æ•°æ®æ¦œå•ä¸ç¤¾åŒºè®ºå›ã€‚

æŠ€æœ¯é€‰å‹ï¼ˆå‰ç«¯ï¼‰ï¼š
- æ¡†æ¶ï¼šReactï¼ˆå•æ–‡ä»¶ç»“æ„æ¼”ç¤ºï¼‰ï¼Œå¯è¿ç§»åˆ° CRA / Vite + React Router
- æ ·å¼ï¼šTailwind CSSï¼ˆç¤ºä¾‹ä¸­ç›´æ¥ä½¿ç”¨ç±»åï¼‰
- UIï¼šå¯ä¼˜å…ˆä½¿ç”¨ shadcn/ui + lucide-reactï¼ˆå›¾æ ‡ï¼‰æˆ– antd-mobileï¼Œæ ¹æ®å®é™…éœ€æ±‚æ›¿æ¢
- çŠ¶æ€ç®¡ç†ï¼šç»„ä»¶å†… useState / useContextï¼›è‹¥å¤æ‚å»ºè®® Redux æˆ– Zustand
- æ¥å£ï¼šRESTful JSONï¼Œå»ºè®®åç«¯æä¾› JWT æˆæƒä¸åˆ†é¡µæ¥å£

ä¸»è¦æ¨¡å—ï¼š
1. é¦–é¡µï¼ˆèµ›äº‹æ±‡æ€»ã€å¿«è®¯ã€èµ›åæˆ˜æŠ¥ï¼‰
2. æ•°æ®ä¸­å¿ƒï¼ˆæ¦œå•ã€çƒå‘˜/çƒé˜Ÿç»Ÿè®¡ï¼‰
3. è®ºå›ï¼ˆå¸–å­åˆ—è¡¨ã€å‘å¸ƒã€æœç´¢ä¸åˆ†ç±»ï¼‰
4. å·¥å…·ï¼ˆæˆ˜æœ¯æ¿ã€èµ›ç¨‹æŸ¥ã€å†å²æˆ˜ç»©ï¼‰
5. çƒé˜Ÿç®¡ç†ï¼ˆç®¡ç†å‘˜æƒé™ï¼šæ›´æ–°èµ›å†µã€ç®¡ç†é˜Ÿå‘˜ã€å‘å¸ƒèµ„è®¯ï¼‰

äº¤äº’è¯´æ˜ä¸å…³é”®éœ€æ±‚ï¼š
- å“åº”å¼ç§»åŠ¨ä¼˜å…ˆè®¾è®¡ï¼Œåº•éƒ¨å¯¼èˆªå¸¸é©»
- æ‰€æœ‰åˆ—è¡¨æ”¯æŒåˆ†é¡µæˆ–æ»šåŠ¨åŠ è½½
- å›¾ç‰‡ä¸å¤šåª’ä½“æ”¯æŒï¼šå¸–å­æ”¯æŒå›¾é›†ã€èµ›äº‹æ”¯æŒç›´æ’­/å›æ”¾é“¾æ¥
- æƒé™ï¼šæ™®é€šç”¨æˆ· / çƒé˜Ÿç®¡ç†å‘˜ï¼ˆç®¡ç†å‘˜æ‰èƒ½è¿›å…¥çƒé˜Ÿç®¡ç†é¡µï¼‰

å¼€å‘è®¡åˆ’ï¼ˆè¿‘ 8 å‘¨ï¼‰
- å‘¨1-2ï¼šæ­å»ºé¡¹ç›®éª¨æ¶ã€è·¯ç”±ã€é€šç”¨ç»„ä»¶ï¼ˆHeaderã€BottomNavã€Cardï¼‰
- å‘¨3-4ï¼šå®ç°é¦–é¡µã€è®ºå›åˆ—è¡¨ã€å¸–å­è¯¦æƒ…ï¼ˆå«å¯Œåª’ä½“ï¼‰
- å‘¨5-6ï¼šæ•°æ®ä¸­å¿ƒï¼ˆæ¦œå•åˆ†é¡µï¼‰ã€å·¥å…·ï¼ˆæˆ˜æœ¯æ¿åŸºæœ¬äº¤äº’ï¼‰
- å‘¨7ï¼šçƒé˜Ÿç®¡ç†é¡µï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰ã€æƒé™æ ¡éªŒ
- å‘¨8ï¼šè”è°ƒåç«¯ã€æµ‹è¯•ã€ä¿®å¤ã€ä¸Šçº¿å‡†å¤‡

æ¥å£ç¤ºä¾‹ï¼ˆå»ºè®®ï¼‰ï¼š
- GET /api/matches?date=2025-11-12
- GET /api/posts?page=1&tab=å…¨éƒ¨
- POST /api/posts  { title, body, images }
- GET /api/teams/:id
- PUT /api/teams/:id/match-result  (ç®¡ç†å‘˜)

å®‰å…¨ä¸éšç§ï¼š
- å›¾ç‰‡ä¸Šä¼ éœ€é‰´æƒå¹¶åšç—…æ¯’æ‰«æä¸å¤§å°é™åˆ¶
- å‘å¸ƒå†…å®¹éœ€æœ‰å®¡æ ¸ç­–ç•¥ï¼ˆæ•æ„Ÿè¯è¿‡æ»¤ / ç®¡ç†å‘˜åå°ï¼‰

---
ä¸‹é¢æ¼”ç¤ºä¸€ä¸ªå•æ–‡ä»¶çš„ React å‰ç«¯åŸå‹ï¼ˆç”¨äºå¿«é€Ÿäº¤äº’åŸå‹ä¸å¼€å‘å‚è€ƒï¼‰ã€‚
ä»£ç åŒ…å«å¤§é‡æ‰¹æ³¨ï¼ˆ"// æ‰¹æ³¨: ..."ï¼‰ï¼Œå¯ç›´æ¥å¤åˆ¶åˆ° Vite/CRA ç¯å¢ƒå¹¶æ‹†åˆ†ä¸ºå¤šä¸ªç»„ä»¶æ–‡ä»¶ã€‚

import React, { useState } from 'react';

// æ‰¹æ³¨: è¯¥ç¤ºä¾‹ä½¿ç”¨å•é¡µé¢è·¯ç”±æ¨¡æ‹Ÿï¼Œå®é™…é¡¹ç›®å»ºè®®ä½¿ç”¨ react-routerã€‚
export default function App() {
  const [route, setRoute] = useState('home'); // 'home'|'data'|'forum'|'tools'|'team'
  const [isAdmin] = useState(true); // æ‰¹æ³¨: æ¼”ç¤ºç®¡ç†å‘˜æƒé™ï¼Œå¯ç”±ç™»å½•æ€æ§åˆ¶

  return (
    <div className="min-h-screen bg-gray-50 text-gray-800">
      <Header onBack={() => { /* æ‰¹æ³¨: è¿”å›åŠŸèƒ½æ ¹æ®è·¯ç”±æ ˆå®ç° */ }} titleMap={{home:'é¦–é¡µ', data:'æ•°æ®', forum:'è®ºå›', tools:'å·¥å…·', team:'çƒé˜Ÿç®¡ç†'}} route={route} />

      <main className="p-4 pt-6">
        {route === 'home' && <Home />}
        {route === 'data' && <DataCenter />}
        {route === 'forum' && <Forum />}
        {route === 'tools' && <Tools />}
        {route === 'team' && isAdmin && <TeamManagement />}
        {route === 'team' && !isAdmin && (
          <div className="rounded-lg bg-white p-6 shadow">æ— æƒé™è®¿é—®çƒé˜Ÿç®¡ç†</div>
        )}
      </main>

      <BottomNav route={route} onChange={setRoute} />
    </div>
  );
}

// Header ç»„ä»¶
function Header({ titleMap, route, onBack }) {
  return (
    <header className="flex items-center justify-between p-4 bg-white shadow-sm sticky top-0 z-10">
      <div className="flex items-center gap-3">
        <button onClick={onBack} className="p-1 rounded-full hover:bg-gray-100">â†</button>
        <h1 className="text-lg font-semibold">{titleMap[route]}</h1>
      </div>
      <div className="flex items-center gap-3">
        <button className="p-1">ğŸ”</button>
        <img src="https://via.placeholder.com/34" alt="avatar" className="w-8 h-8 rounded-full" />
      </div>
    </header>
  );
}

// åº•éƒ¨å¯¼èˆª
function BottomNav({ route, onChange }) {
  const items = [
    { key: 'home', label: 'é¦–é¡µ', icon: 'ğŸ ' },
    { key: 'data', label: 'æ•°æ®', icon: 'ğŸ“Š' },
    { key: 'team', label: 'åŒ—å¤§', icon: 'ğŸ“' },
    { key: 'forum', label: 'è®ºå›', icon: 'ğŸ’¬' },
    { key: 'tools', label: 'å·¥å…·', icon: 'ğŸ”§' },
  ];

  return (
    <nav className="fixed bottom-4 left-0 right-0 flex items-center justify-center">
      <div className="w-full max-w-xl mx-auto bg-white rounded-full shadow-lg flex justify-between px-6 py-2 items-center">
        {items.map(it => (
          <button key={it.key} onClick={() => onChange(it.key)} className={`flex flex-col items-center text-sm ${route===it.key? 'text-blue-600': 'text-gray-500'}`}>
            <div className="text-xl">{it.icon}</div>
            <div>{it.label}</div>
          </button>
        ))}
      </div>
    </nav>
  );
}

// é¦–é¡µç»„ä»¶ï¼ˆç¤ºæ„ï¼‰
function Home() {
  return (
    <div className="space-y-6">
      <section className="rounded-lg bg-white p-4 shadow">
        <h2 className="font-semibold">ä»Šæ—¥èµ›äº‹</h2>
        <div className="mt-3 grid grid-cols-2 gap-3">
          <MatchCard home="ä¿¡ç§‘" away="å…ƒåŸ¹" score="0 - 0" status="ç›´æ’­ä¸­"/>
          <MatchCard home="ç‰©ç†" away="å›½å…³" time="17:00"/>
        </div>
      </section>

      <section className="rounded-lg bg-white p-4 shadow">
        <h3 className="font-semibold">å‰çº¿å¿«è®¯</h3>
        <ul className="space-y-2 mt-3">
          <li className="p-3 bg-gray-50 rounded">ä¿¡ç§‘å¼€åœºåå®¢ä¸ºä¸»ï¼ŒXXç¦åŒºå†…æ¥çƒçˆ†å°„ç ´é—¨</li>
          <li className="p-3 bg-gray-50 rounded">ç‰©ç†å­¦é™¢XXäºŒç‚¹åœçƒä½å°„ï¼ŒXXçŒ®ç²¾å½©æ‰‘æ•‘</li>
        </ul>
      </section>

      <section className="rounded-lg bg-white p-4 shadow">
        <h3 className="font-semibold">èµ›åæˆ˜æŠ¥</h3>
        <ul className="space-y-2 mt-3">
          <li className="p-3 bg-gray-50 rounded">ä¿¡ç§‘2-1å‡»è´¥ç‰©é™¢ï¼ŒXXæ¢…å¼€äºŒåº¦å½“é€‰å…¨åœºæœ€ä½³</li>
          <li className="p-3 bg-gray-50 rounded">å…‰åå­¦é™¢3-0å®Œèƒœæ³•å­¦é™¢ï¼Œå°ç»„èµ›ä¸¤è¿èƒœ</li>
        </ul>
      </section>
    </div>
  );
}

function MatchCard({ home, away, score = 'VS', status, time }) {
  return (
    <div className="p-3 rounded bg-gray-50 flex flex-col items-center">
      <div className="text-xs text-gray-500">{status || time || 'æœªå¼€å§‹'}</div>
      <div className="text-xl font-bold mt-2">{home} <span className="text-lg mx-1">{score}</span> {away}</div>
    </div>
  );
}

// æ•°æ®ä¸­å¿ƒï¼ˆæ¦œå•ï¼‰
function DataCenter() {
  const sample = [
    {rank:1, name:'å¼ ä¸‰', dept:'è®¡ç®—æœºç³»', goals:12},
    {rank:2, name:'æå››', dept:'æ•°å­¦ç³»', goals:9},
    {rank:3, name:'ç‹äº”', dept:'ç‰©ç†ç³»', goals:8},
    {rank:4, name:'èµµå…­', dept:'åŒ–å­¦ç³»', goals:7},
    {rank:5, name:'é’±ä¸ƒ', dept:'ç”Ÿç‰©ç³»', goals:6},
  ];

  return (
    <div className="rounded-lg bg-white p-4 shadow">
      <h2 className="font-semibold">æ•°æ®ä¸­å¿ƒ â€” å°„æ‰‹æ¦œ</h2>
      <table className="w-full mt-4 table-fixed text-left">
        <thead>
          <tr className="text-sm text-gray-500">
            <th className="w-16">æ’å</th>
            <th>çƒå‘˜</th>
            <th>é™¢ç³»</th>
            <th className="w-24">è¿›çƒ</th>
          </tr>
        </thead>
        <tbody>
          {sample.map(p => (
            <tr key={p.rank} className="border-t">
              <td className="py-3">{p.rank}</td>
              <td className="py-3 flex items-center gap-3"><img src="https://via.placeholder.com/40" alt="avatar" className="w-10 h-10 rounded-full"/>{p.name}</td>
              <td className="py-3">{p.dept}</td>
              <td className="py-3 text-blue-600 font-semibold">{p.goals}</td>
            </tr>
          ))}
        </tbody>
      </table>

      {/* æ‰¹æ³¨: åˆ†é¡µæ§ä»¶ç¤ºä¾‹ï¼ˆå‰ç«¯åº”æ¥æ”¶åç«¯åˆ†é¡µæ•°æ®ï¼‰ */}
      <div className="mt-4 flex justify-end">
        <Pagination total={24} pageSize={5} current={1} onChange={() => {}} />
      </div>
    </div>
  );
}

function Pagination({ total, pageSize, current, onChange }) {
  const pages = Math.ceil(total / pageSize);
  return (
    <div className="flex items-center gap-2">
      <div className="text-sm text-gray-500">æ˜¾ç¤º 1-{pageSize}ï¼Œå…± {total} æ¡</div>
      <div className="flex items-center gap-1">
        {Array.from({length: pages}).map((_,i) => (
          <button key={i} className={`px-3 py-1 rounded ${i+1===current? 'bg-blue-600 text-white': 'bg-gray-100'}`}>{i+1}</button>
        ))}
      </div>
    </div>
  );
}

// è®ºå›é¡µï¼ˆç®€åŒ–ï¼‰
function Forum() {
  const posts = [
    {id:1, title:'ä¿¡ç§‘vså…ƒåŸ¹è¿™åœºè£åˆ¤ä»€ä¹ˆæ°´å¹³ï¼Ÿ', excerpt:'æœ€åé‚£ä¸ªç¦åŒºæ‰‹çƒæ˜æ˜¾åº”è¯¥åˆ¤ç‚¹çƒå•Šï¼', views:328, replies:42, likes:76, tag:'èµ›äº‹è®¨è®º'},
    {id:2, title:'å…‰åå­¦é™¢3å·å‰é”‹å¤ªå¼ºäº†ï¼', excerpt:'é€Ÿåº¦å¿«æŠ€æœ¯å¥½ï¼Œæ„Ÿè§‰ä»Šå¹´æœ‰æœºä¼šå†²å‡»å† å†›', views:876, replies:128, likes:215, tag:'çƒå‘˜åˆ†æ'},
    {id:3, title:'æ±‚æ¨èä¸€æ¬¾æ€§ä»·æ¯”é«˜çš„è¶³çƒé‹', excerpt:'é¢„ç®—500å·¦å³ï¼Œä¸»è¦åœ¨äººå·¥è‰çš®è¸¢çƒ', views:99, replies:10, likes:8, tag:'è£…å¤‡äº¤æµ'},
  ];

  return (
    <div className="space-y-4">
      <div className="rounded-lg bg-white p-4 shadow flex items-center justify-between">
        <button className="bg-blue-600 text-white px-4 py-2 rounded">å‘å¸ƒæ–°å¸–</button>
        <div className="flex gap-2 text-sm text-gray-500">
          <button>å…¨éƒ¨</button>
          <button>èµ›äº‹è®¨è®º</button>
          <button>çƒå‘˜åˆ†æ</button>
          <button>è£…å¤‡äº¤æµ</button>
        </div>
      </div>

      <div className="space-y-3">
        {posts.map(p => (
          <PostCard key={p.id} post={p} />
        ))}
      </div>
    </div>
  );
}

function PostCard({ post }) {
  return (
    <div className="rounded-lg bg-white p-4 shadow">
      <div className="flex justify-between">
        <h4 className="font-semibold">{post.title}</h4>
        <div className="text-xs text-gray-400">2å°æ—¶å‰</div>
      </div>
      <p className="text-sm text-gray-600 mt-2">{post.excerpt}</p>
      <div className="mt-3 flex items-center gap-4 text-sm text-gray-500">
        <div>ğŸ‘ {post.views}</div>
        <div>ğŸ’¬ {post.replies}</div>
        <div>ğŸ‘ {post.likes}</div>
        <div className="ml-auto text-xs bg-gray-100 px-2 py-1 rounded">{post.tag}</div>
      </div>
    </div>
  );
}

// å·¥å…·é¡µï¼ˆæˆ˜æœ¯æ¿ç®€åŒ–ç¤ºæ„ï¼‰
function Tools() {
  return (
    <div className="space-y-4">
      <div className="rounded-lg bg-white p-4 shadow">
        <h3 className="font-semibold">æˆ˜æœ¯æ¿</h3>
        <div className="mt-3 bg-green-600 rounded h-64 flex items-center justify-center text-white">ï¼ˆç¤ºæ„ï¼šå¯é›†æˆcanvasæˆ–svgç»˜åˆ¶ï¼‰</div>
        <div className="mt-3">çƒå‘˜åˆ—è¡¨ï¼š</div>
        <div className="mt-2 flex gap-3 flex-wrap">
          {['å¼ ä¸‰','æå››','ç‹äº”','èµµå…­','é’±ä¸ƒ','å­™å…«','å‘¨ä¹','å´å'].map(n=> (
            <div key={n} className="w-16 text-center">
              <img src="https://via.placeholder.com/60" className="w-14 h-14 rounded-full mx-auto"/>
              <div className="text-xs mt-1">{n}</div>
            </div>
          ))}
          <div className="w-16 text-center opacity-50">+</div>
        </div>
      </div>

      <div className="rounded-lg bg-white p-4 shadow">
        <h3 className="font-semibold">èµ›ç¨‹æŸ¥è¯¢ / å†å²æˆ˜ç»©</h3>
        <div className="mt-3 text-sm text-gray-500">ï¼ˆå¯æ¥å…¥åç«¯èµ›ç¨‹ API ï¼Œæ”¯æŒåˆ›å»º/ç¼–è¾‘æ¯”èµ›ï¼‰</div>
      </div>
    </div>
  );
}

// çƒé˜Ÿç®¡ç†ï¼ˆç®¡ç†å‘˜ç•Œé¢ï¼‰
function TeamManagement() {
  return (
    <div className="space-y-4">
      <div className="rounded-lg bg-gradient-to-r from-blue-500 to-blue-400 text-white p-6 shadow">
        <div className="flex items-center gap-4">
          <img src="https://via.placeholder.com/72" className="w-18 h-18 rounded-full"/>
          <div>
            <div className="text-xl font-bold">ä¿¡æ¯ç§‘å­¦æŠ€æœ¯å­¦é™¢è¶³çƒé˜Ÿ</div>
            <div className="text-sm mt-1">ç®¡ç†å‘˜: å¼ æ˜</div>
          </div>
        </div>

        <div className="mt-4 grid grid-cols-4 gap-3 text-center">
          <Stat label="çƒé˜Ÿæˆå‘˜" value={24} />
          <Stat label="èµ›å­£åœºæ¬¡" value={12} />
          <Stat label="èƒœåœº" value={8} />
          <Stat label="ç§¯åˆ†" value={4} />
        </div>
      </div>

      <div className="rounded-lg bg-white p-4 shadow grid grid-cols-2 gap-4">
        <ManageCard title="æ›´æ–°èµ›å†µ" subtitle="è®°å½•å’Œæ›´æ–°æ¯”èµ›ç»“æœ" />
        <ManageCard title="å‘å¸ƒèµ„è®¯" subtitle="å‘å¸ƒçƒé˜Ÿæœ€æ–°åŠ¨æ€" />
        <ManageCard title="ç®¡ç†çƒå‘˜" subtitle="æ·»åŠ å’Œç®¡ç†çƒé˜Ÿæˆå‘˜" />
        <ManageCard title="èµ›ç¨‹å®‰æ’" subtitle="åˆ›å»ºå’Œç¼–è¾‘æ¯”èµ›æ—¥ç¨‹" />
      </div>
    </div>
  );
}

function Stat({label, value}){
  return (
    <div className="text-center">
      <div className="text-2xl font-bold">{value}</div>
      <div className="text-sm mt-1">{label}</div>
    </div>
  );
}

function ManageCard({title, subtitle}){
  return (
    <div className="rounded-lg p-4 bg-gray-50">
      <div className="font-medium">{title}</div>
      <div className="text-sm text-gray-500 mt-2">{subtitle}</div>
    </div>
  );
}

/*
æ‰¹æ³¨ï¼ˆå¼€å‘æ³¨æ„äº‹é¡¹ï¼‰ï¼š
- è§†è§‰é£æ ¼ï¼šå‚è€ƒæä¾›çš„å›¾ç‰‡ä½¿ç”¨è“ç™½ä¸»è‰²è°ƒã€åœ†è§’å¡ç‰‡ä¸é˜´å½±ã€‚
- æ— éšœç¢ï¼šå›¾ç‰‡éœ€å« altï¼ŒæŒ‰é’®éœ€å…·å¤‡ aria-labelã€‚
- å›½é™…åŒ–ï¼šè€ƒè™‘ä½¿ç”¨ react-intl æˆ– i18nextï¼ˆè‹¥æœªæ¥æ”¯æŒå¤šè¯­è¨€ï¼‰ã€‚
- æ€§èƒ½ï¼šé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šå›¾ç‰‡ï¼Œä½¿ç”¨æ‡’åŠ è½½ï¼ˆIntersectionObserver æˆ– react-lazyloadï¼‰ã€‚
- æµ‹è¯•ï¼šå•å…ƒæµ‹è¯•ä½¿ç”¨ Jest + React Testing Libraryï¼ŒE2E ä½¿ç”¨ Cypressã€‚

ä¸‹ä¸€æ­¥è®¡åˆ’ï¼š
1. å°†æœ¬æ–‡ä»¶æ‹†åˆ†ä¸ºç»„ä»¶æ–‡ä»¶å¹¶å»ºç«‹è·¯ç”±ï¼ˆreact-routerï¼‰ã€‚
2. æ­å»ºåç«¯æ¨¡æ‹Ÿæ•°æ®ï¼ˆJSON Serverï¼‰ä»¥ä¾¿å‰ç«¯è”è°ƒã€‚
3. è®¾è®¡æ•°æ®åº“æ¨¡å‹ï¼šusers/posts/teams/matches/players/statsã€‚
4. è®¾è®¡ç§»åŠ¨ç«¯ UI Kitï¼ˆé¢œè‰²ã€é—´è·ã€å­—ä½“ã€å›¾æ ‡é›†ï¼‰ã€‚


